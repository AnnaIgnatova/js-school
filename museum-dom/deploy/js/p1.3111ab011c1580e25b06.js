(()=>{const e=document.querySelector(".gallery-img-inner"),t=document.querySelectorAll(".input-slide"),n=document.querySelectorAll(".slider-btn"),o=document.querySelector(".slide-number"),l=document.querySelector(".form-wrapper"),a=document.querySelector("form"),c=document.querySelector(".amount-buy-btn"),i=document.querySelector(".close-btn"),r=document.querySelectorAll(".less-btn"),s=document.querySelectorAll(".more-btn"),d=document.querySelectorAll(".basic-number"),u=document.querySelector(".book-btn"),m=document.querySelectorAll(".entry-basic-number"),p=document.querySelectorAll(".price-type-number"),v=document.querySelectorAll(".entry-more-btn"),g=document.querySelectorAll(".entry-less-btn"),y=document.querySelectorAll(".price-type-total"),x=document.querySelector(".total-price"),h=document.querySelectorAll(".price-type-text-span"),L=document.querySelectorAll(".entry-type-name-span");let f=0,b=localStorage.getItem("basicTickets")||1,w=localStorage.getItem("seniorTickets")||1,k=["Permanent exhibition","Temporary exhibition","Combined Admission"],S=k[localStorage.getItem("typeIndex")||0];e.innerHTML="";let C=[];var E;(E=["./images/gallery-1.webp","./images/gallery-2.webp","./images/gallery-3.webp","./images/gallery-4.webp","./images/gallery-5.webp","./images/gallery-6.webp","./images/gallery-7.webp","./images/gallery-8.webp","./images/gallery-9.webp","./images/gallery-10.webp","./images/gallery-11.webp","./images/gallery-12.webp"],E.sort((()=>Math.random()-.5))).map((t=>{const n=document.createElement("img");n.classList.add("gallery-img"),n.src=t,n.alt=t.split("/")[2].slice(0,-4),e.append(n),C.push(n)}));let q=e=>{t.forEach((e=>e.checked=!1)),e.target.checked=!0,o.textContent="0"+(+e.target.value+1),f=+e.target.value};t.forEach((e=>{e.addEventListener("click",q)}));let O=e=>{e.preventDefault(),a.style.animation="form-animate-back 2s",setTimeout((()=>{l.classList.add("hide")}),2e3)};i.addEventListener("click",O),l.addEventListener("click",(e=>{e.target.classList.contains("form-wrapper")&&O(e)})),a.addEventListener("click",(e=>{e.preventDefault()})),d[0].value=localStorage.getItem("basicTickets"),d[1].value=localStorage.getItem("seniorTickets"),s[0].addEventListener("click",(()=>{20!==b&&(b++,d[0].value=b,localStorage.setItem("basicTickets",b),console.log(b))})),s[1].addEventListener("click",(()=>{20!==w&&(w++,d[1].value=w,localStorage.setItem("seniorTickets",w))})),r[0].addEventListener("click",(()=>{0!==b&&(b--,d[0].value=b,localStorage.setItem("basicTickets",b))})),r[1].addEventListener("click",(()=>{0!==w&&(w--,d[1].value=w,localStorage.setItem("seniorTickets",w))})),u.addEventListener("click",(e=>{e.preventDefault()})),i.addEventListener("click",O),c.addEventListener("click",(()=>{l.classList.remove("hide"),a.style.animation="form-animate-from 2s",m[0].value=b,p[0].textContent=b,m[1].value=w,p[1].textContent=w,y[0].textContent=20*m[0].value+" €",y[1].textContent=10*m[1].value+" €",x.textContent=m[0].value*U[k.indexOf(S)]+m[1].value*_[k.indexOf(S)]+" €",$e.textContent=S,Ie.textContent=S,h[0].textContent=U[k.indexOf(S)],h[1].textContent=_[k.indexOf(S)],L[0].textContent=U[k.indexOf(S)],L[1].textContent=_[k.indexOf(S)],y[0].textContent=m[0].value*+h[0].textContent+" €",y[1].textContent=m[1].value*+h[1].textContent+" €"})),n[1].addEventListener("click",(()=>{t.forEach((e=>e.checked=!1)),f++,5===f&&(f=0),t[f].checked=!0,o.textContent=`0${f+1}`})),n[0].addEventListener("click",(()=>{t.forEach((e=>e.checked=!1)),f--,-1===f&&(f=4),t[f].checked=!0,o.textContent=`0${f+1}`})),u.onmousedown=function(e){const t=e.target.pageX-e.target.offsetLeft,n=e.target.pageY-e.target.offsetTop,o=e.target.offsetWidth,l=document.createElement("span");l.className="ripple",l.style.left=t+"px",l.style.top=n+"px",l.style.setProperty("--scale",o),u.appendChild(l),setTimeout((()=>{l.parentNode.removeChild(l)}),500)};document.querySelectorAll(".video-progress").forEach((e=>{e.addEventListener("input",(e=>{(e=>{const t=e.target,n=t.value;t.style.background=`linear-gradient(to right, #710707 0%, #710707 ${n}%, #fff ${n}%, white 100%)`})(e)}))}));const T=document.querySelector(".burger-menu"),A=document.querySelector(".header-nav"),I=document.querySelector(".burger-close-btn"),M=document.querySelector(".burger-wrapper"),N=document.querySelector(".welcome-wrapper");let X="flex",R=()=>{X="flex",A.classList.remove("hide"),A.classList.remove("block"),A.classList.add(X)};window.matchMedia("(min-width: 1025px)").matches?R():X="block",window.addEventListener("resize",(()=>{window.matchMedia("(max-width: 1024px)").matches&&!A.classList.contains("block")&&(A.classList.remove(X),A.classList.add("hide"),X="block",N.classList.remove("opacity")),window.matchMedia("(min-width: 1025px)").matches&&(R(),I.classList.add("hide"),N.classList.remove("opacity")),window.matchMedia("(min-width: 781px)").matches&&M.classList.add("hide"),window.matchMedia("(max-width: 780px)").matches&&A.classList.contains("block")&&M.classList.remove("hide")})),T.addEventListener("click",(()=>{A.classList.contains("hide")?(A.style.animation="burger-from 0.5s",A.classList.toggle("hide"),A.classList.toggle(X)):(A.style.animation="burger-back 0.5s",setTimeout((()=>{A.classList.toggle("hide"),A.classList.toggle(X)}),500)),window.matchMedia("(max-width: 780px)").matches&&M.classList.toggle("hide"),I.classList.toggle("hide"),N.classList.toggle("opacity")})),A.addEventListener("click",(e=>{let t=e.target;window.matchMedia("(max-width: 1024px)").matches&&(t.classList.contains("nav-li-link")||t.classList.contains("nav-li-arrow"))&&(I.classList.add("hide"),N.classList.remove("opacity"),M.classList.add("hide"),A.classList.add("hide"),A.classList.remove(X))})),$((function(){$(".welcome-slides").slick({dots:!0})}));const Y=document.querySelector(".slide-number");let D=1;document.addEventListener("touchend",(e=>{document.querySelectorAll(".welcome-bg").forEach((e=>{e.classList.contains("slick-active")&&(D=+e.id.slice(-1)+1,Y.textContent=`0${D}`)}))})),document.addEventListener("click",(e=>{let t=e.target;"slick-slide-control"===t.id.slice(0,-2)&&(D=+t.id.slice(-1)+1,Y.textContent=`0${D}`),(t.classList.contains("slick-next")||t.classList.contains("slick-prev"))&&(D=+t.parentNode.querySelector(".slick-active").id.slice(-1)+1,Y.textContent=`0${D}`)})),document.querySelector(".gallery");let j=document.querySelector(".video");window.addEventListener("scroll",(()=>{window.pageYOffset<window.pageYOffset+j.getBoundingClientRect().top&&C.forEach((e=>{e.style.animation="none"})),C.forEach((e=>{Math.round(window.pageYOffset+930)>Math.round(window.pageYOffset+e.getBoundingClientRect().top)&&(e.style.animation="gallery-from 1s")}))}));let F=document.querySelector(".overlay-input"),J=(document.querySelector(".explore-img-overlay"),document.querySelector(".explore-img")),W=document.querySelector(".explore");F.addEventListener("touchmove",(e=>{e.touches[0].clientX>1700?(F.style.left="701px",J.style.width="720px"):e.touches[0].clientX<980?(F.style.left="-15px",J.style.width="0px"):(F.style.left=e.touches[0].clientX-1e3+"px",J.style.width=e.touches[0].clientX-980+"px")}));let z=e=>{e.clientX>1670?(F.style.left="700px",J.style.width="720px"):e.clientX<965?(F.style.left="-15px",J.style.width="0px"):(F.style.left=e.clientX-980+"px",J.style.width=e.clientX-960+"px")};F.addEventListener("mousedown",(()=>{W.addEventListener("mousemove",z)})),W.addEventListener("mouseup",(()=>{W.removeEventListener("mousemove",z)}));let B=document.querySelector(".tickets-img");const H=["./images/welcome-bg-1.webp","./images/welcome-bg-2.jpg","./images/welcome-bg-3.jpg","./images/welcome-bg-4.jpg","./images/tickets-img.webp"];let P=0;setInterval((()=>{B.style.backgroundImage=`url(${H[P]})`,P++,P===H.length&&(P=0)}),5e3),mapboxgl.accessToken="pk.eyJ1IjoiY3JlbXNlYSIsImEiOiJja3VsYW13NHQxZms0MnduNmxhZmo3OGw1In0.Lr5XOXdnNc_zNDwD0hidWA";let K=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/light-v10",center:[2.3363033334041,48.8609865074615],zoom:15.75});const V=new mapboxgl.NavigationControl;K.addControl(V,"top-right"),new mapboxgl.Marker({color:"black"}).setLngLat([2.3364,48.86091]).addTo(K),new mapboxgl.Marker({color:"grey"}).setLngLat([2.3333,48.8602]).addTo(K),new mapboxgl.Marker({color:"grey"}).setLngLat([2.3397,48.8607]).addTo(K),new mapboxgl.Marker({color:"grey"}).setLngLat([2.333,48.8619]).addTo(K),new mapboxgl.Marker({color:"grey"}).setLngLat([2.3365,48.8625]).addTo(K);let Z=document.querySelectorAll(".type-input"),G=document.querySelector(".tickets"),Q=document.querySelector(".total-tickets-price"),U=[20,25,40],_=[10,12.5,20];h[0].textContent=U[k.indexOf(S)],h[1].textContent=_[k.indexOf(S)],L[0].textContent=U[k.indexOf(S)],L[1].textContent=_[k.indexOf(S)];let ee=localStorage.getItem("totalSum")||30,te=localStorage.getItem("typeIndex")||1;Q.textContent=ee,Z[te].checked=!0,G.addEventListener("click",(e=>{Z.forEach(((e,t)=>{e.checked&&(ee=U[t]*b+_[t]*w,localStorage.setItem("typeIndex",t),localStorage.setItem("totalSum",ee),S=k[t]),Q.textContent=ee}))}));let ne=document.querySelector(".video-media");const oe=document.querySelector(".play-btn"),le=document.querySelector(".video-pause-icon"),ae=document.querySelector(".video-play-icon"),ce=document.querySelector(".play-btn-big"),ie=document.querySelector(".video-volume-icon"),re=document.querySelector(".video-volume-mute-icon");let se=document.querySelector(".video-progress");const de=document.querySelector(".volume-progress"),ue=document.querySelector(".screen-btn");let me=()=>{ne.currentTime=0,ne.playbackRate=1,ne.addEventListener("timeupdate",(e=>{const t=ne.currentTime,n=ne.duration;se.value=t/n*100,se.style.background=`linear-gradient(to right, #710707 0%, #710707 ${se.value}%, #fff ${se.value}%, white 100%)`,n===t&&(pe(),he())})),ne.addEventListener("click",ve),ne.addEventListener("volumechange",(()=>{de.value=Math.round(100*ne.volume)})),se.addEventListener("input",(e=>{const t=ne.duration,n=se.value;ne.currentTime=n*t/100,se.style.background=`linear-gradient(to right, #710707 0%, #710707 ${n}%, #fff ${n}%, white 100%)`}))};ue.addEventListener("click",(()=>{ne.requestFullscreen()}));let pe=()=>{ae.classList.remove("hide"),le.classList.add("hide"),ce.classList.remove("hide")};const ve=e=>{e.preventDefault(),ne.paused?ne.play():ne.pause(),ne.paused?pe():(ae.classList.add("hide"),le.classList.remove("hide"),ce.classList.add("hide"))};let ge=0;const ye=()=>{let e=de.value;0!=de.value?(ne.volume=0,de.value=0,ge=e):(de.value=ge,ne.volume=ge/100),xe(),de.style.background=`linear-gradient(to right, #710707 0%, #710707 ${de.value}%, #fff ${de.value}%, white 100%)`},xe=()=>{0==de.value?(re.classList.remove("hide"),ie.classList.add("hide")):(re.classList.add("hide"),ie.classList.remove("hide"))},he=()=>{ne.pause(),ne.currentTime=0,ne.playbackRate=1},Le=()=>{const e=de.value;ne.volume=e/100};function fe(e,...t){let n=new Set;document.addEventListener("keydown",(function(o){n.add(o.code);for(let e of t)if(!n.has(e))return;n.clear(),e()})),document.addEventListener("keyup",(function(e){n.delete(e.code)}))}oe.addEventListener("click",ve),ce.addEventListener("click",ve),me(),ie.addEventListener("click",ye),re.addEventListener("click",ye),de.addEventListener("input",xe),de.addEventListener("input",Le),Le(),document.addEventListener("keydown",(e=>{switch(e.code){case"Space":ve(e);break;case"KeyM":ye();break;case"KeyF":document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():ne.requestFullscreen()}})),fe((()=>{ne.playbackRate+=2}),"ShiftLeft","Comma"),fe((()=>{ne.playbackRate-2>0&&(ne.playbackRate-=2),ne.playbackRate-.5>0&&(ne.playbackRate-=.5)}),"ShiftLeft","Period");let be=document.querySelector(".small-videos-container");document.querySelector(".round-btn-slider"),$((function(){$(be).slick({slidesToShow:3,slidesToScroll:1,dots:!0,appendDots:$(".round-btn-slider"),arrows:!0,nextArrow:$(".arrow-btn-next"),prevArrow:$(".arrow-btn-prev")})}));let we=["./video/video0.mp4","./video/video1.mp4","./video/video2.mp4","./video/video3.mp4","./video/video4.mp4"],ke=document.querySelector(".round-btn-slider"),Se=document.querySelectorAll(".arrow-btn"),Ce=document.querySelector(".video-media-block"),Ee=document.querySelectorAll("iframe"),qe=0,Oe=()=>{Array.prototype.forEach.call(Ee,(e=>{e.contentWindow.postMessage(JSON.stringify({event:"command",func:"stopVideo"}),"*")}))},Te=()=>{let e=document.createElement("video");e.src=`${we[qe]}`,e.poster=`./images/poster${qe}.jpg`,e.classList.add("video-media"),Ce.innerHTML="",Ce.append(e)};ke.addEventListener("click",(e=>{let t=e.target;Oe(),"BUTTON"===t.tagName&&(qe=t.id.slice(-1),Te(),ne=document.querySelector(".video-media"),me(),pe())})),Se.forEach((e=>{e.addEventListener("click",(e=>{let t=e.target;Oe(),(t.classList.contains("arrow-btn-prev")||t.parentNode.classList.contains("arrow-btn-prev"))&&(qe--,Te(),qe<=0&&(qe=4)),(t.classList.contains("arrow-btn-next")||t.parentNode.classList.contains("arrow-btn-next"))&&(qe++,Te(),qe>=4&&(qe=-1)),ne=document.querySelector(".video-media"),me(),pe()}))}));const Ae=document.querySelector(".form-select"),$e=document.querySelector(".ticket-type-placeholder"),Ie=document.querySelector(".info-text-type"),Me=Array.from(Ae.options);$e.textContent=S,Ie.textContent=S,Ae.addEventListener("click",(()=>{Me.map((e=>{!0===e.selected&&(S=e.textContent)})),$e.textContent=S,Ie.textContent=S,x.textContent=m[0].value*U[k.indexOf(S)]+m[1].value*_[k.indexOf(S)]+" €",h[0].textContent=U[k.indexOf(S)],h[1].textContent=_[k.indexOf(S)],L[0].textContent=U[k.indexOf(S)],L[1].textContent=_[k.indexOf(S)],y[0].textContent=m[0].value*+h[0].textContent+" €",y[1].textContent=m[1].value*+h[1].textContent+" €"})),v.forEach(((e,t)=>{e.addEventListener("click",(()=>{0===t&&m[0].value<20&&(m[0].value++,p[0].textContent=+p[0].textContent+1,y[0].textContent=m[0].value*+h[0].textContent+" €"),1===t&&m[1].value<20&&(m[1].value++,p[1].textContent=+p[1].textContent+1,y[1].textContent=m[1].value*+h[1].textContent+" €"),x.textContent=m[0].value*U[k.indexOf(S)]+m[1].value*_[k.indexOf(S)]+" €"}))})),g.forEach(((e,t)=>{e.addEventListener("click",(()=>{0===t&&m[0].value>0&&(m[0].value--,p[0].textContent=+p[0].textContent-1,y[0].textContent=20*m[0].value+" €"),1===t&&m[1].value>0&&(m[1].value--,p[1].textContent=+p[1].textContent-1,y[1].textContent=10*m[1].value+" €"),x.textContent=m[0].value*U[k.indexOf(S)]+m[1].value*_[k.indexOf(S)]+" €"}))}))})();