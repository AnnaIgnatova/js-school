(()=>{const e=document.querySelector(".gallery-img-inner"),t=document.querySelectorAll(".input-slide"),n=document.querySelectorAll(".slider-btn"),o=document.querySelector(".slide-number"),a=document.querySelector(".form-wrapper"),l=document.querySelector("form"),c=document.querySelector(".amount-buy-btn"),r=document.querySelector(".close-btn"),i=document.querySelectorAll(".less-btn"),s=document.querySelectorAll(".more-btn"),d=document.querySelectorAll(".basic-number"),u=document.querySelector(".book-btn"),m=document.querySelectorAll(".entry-basic-number"),v=document.querySelectorAll(".price-type-number"),p=document.querySelectorAll(".entry-more-btn"),y=document.querySelectorAll(".entry-less-btn"),g=document.querySelectorAll(".price-type-total"),x=document.querySelector(".total-price"),h=document.querySelectorAll(".price-type-text-span"),L=document.querySelectorAll(".entry-type-name-span");let f=0,b=localStorage.getItem("basicTickets")||1,w=localStorage.getItem("seniorTickets")||1,S=["Permanent exhibition","Temporary exhibition","Combined Admission"],k=S[localStorage.getItem("typeIndex")||0];e.innerHTML="";let C=[];var q;(q=["./images/gallery-1.webp","./images/gallery-2.webp","./images/gallery-3.webp","./images/gallery-4.webp","./images/gallery-5.webp","./images/gallery-6.webp","./images/gallery-7.webp","./images/gallery-8.webp","./images/gallery-9.webp","./images/gallery-10.webp","./images/gallery-11.webp","./images/gallery-12.webp"],q.sort((()=>Math.random()-.5))).map((t=>{const n=document.createElement("img");n.classList.add("gallery-img"),n.src=t,n.alt=t.split("/")[2].slice(0,-4),e.append(n),C.push(n)}));let E=e=>{t.forEach((e=>e.checked=!1)),e.target.checked=!0,o.textContent="0"+(+e.target.value+1),f=+e.target.value};t.forEach((e=>{e.addEventListener("click",E)}));let T=e=>{e.preventDefault(),l.style.animation="form-animate-back 2s",setTimeout((()=>{a.classList.add("hide")}),2e3)};r.addEventListener("click",T),a.addEventListener("click",(e=>{e.target.classList.contains("form-wrapper")&&T(e)})),d[0].value=localStorage.getItem("basicTickets")||1,d[1].value=localStorage.getItem("seniorTickets")||1,s[0].addEventListener("click",(()=>{20!==b&&(b++,d[0].value=b,localStorage.setItem("basicTickets",b),console.log(b))})),s[1].addEventListener("click",(()=>{20!==w&&(w++,d[1].value=w,localStorage.setItem("seniorTickets",w))})),i[0].addEventListener("click",(()=>{0!==b&&(b--,d[0].value=b,localStorage.setItem("basicTickets",b))})),i[1].addEventListener("click",(()=>{0!==w&&(w--,d[1].value=w,localStorage.setItem("seniorTickets",w))})),u.addEventListener("click",(e=>{e.preventDefault()})),r.addEventListener("click",T),c.addEventListener("click",(()=>{a.classList.remove("hide"),l.style.animation="form-animate-from 2s",m[0].value=b,v[0].textContent=b,m[1].value=w,v[1].textContent=w,g[0].textContent=20*m[0].value+" €",g[1].textContent=10*m[1].value+" €",x.textContent=m[0].value*ce[S.indexOf(k)]+m[1].value*re[S.indexOf(k)]+" €",Fe.textContent=k,Je.textContent=k,h[0].textContent=ce[S.indexOf(k)],h[1].textContent=re[S.indexOf(k)],L[0].textContent=ce[S.indexOf(k)],L[1].textContent=re[S.indexOf(k)],g[0].textContent=m[0].value*+h[0].textContent+" €",g[1].textContent=m[1].value*+h[1].textContent+" €"})),n[1].addEventListener("click",(()=>{t.forEach((e=>e.checked=!1)),f++,5===f&&(f=0),t[f].checked=!0,o.textContent=`0${f+1}`})),n[0].addEventListener("click",(()=>{t.forEach((e=>e.checked=!1)),f--,-1===f&&(f=4),t[f].checked=!0,o.textContent=`0${f+1}`}));const O=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],A=["January","February","March","April","May","June","July","August","September","October","November","December"],M=document.querySelector(".form-date"),I=document.querySelector(".form-time"),D=document.querySelector(".date-placeholder"),N=document.querySelector(".info-text-date"),X=document.querySelector(".info-time"),R=document.querySelector(".time-placeholder");(new Date).toLocaleDateString("en-ca"),l.addEventListener("click",(e=>{let t=e.target;t.classList.contains("form-date")||t.classList.contains("form-time")||e.preventDefault()})),M.setAttribute("min",(new Date).toLocaleDateString("en-ca")),M.addEventListener("change",(()=>{D.textContent=M.value,N.textContent=`${(e=>{switch(e){case 0:return O[6];case 1:return O[0];case 2:return O[1];case 3:return O[2];case 4:return O[3];case 5:return O[4];case 6:return O[5]}})(new Date(M.value).getDay())}, ${A[new Date(M.value).getMonth()]} ${new Date(M.value).getDate()}`})),I.addEventListener("input",(()=>{R.textContent=I.value;let e=I.value.split(":");X.textContent=`${e[0]} : ${e[1]}`})),u.onmousedown=function(e){const t=e.target.pageX-e.target.offsetLeft,n=e.target.pageY-e.target.offsetTop,o=e.target.offsetWidth,a=document.createElement("span");a.className="ripple",a.style.left=t+"px",a.style.top=n+"px",a.style.setProperty("--scale",o),u.appendChild(a),setTimeout((()=>{a.parentNode.removeChild(a)}),500)};document.querySelectorAll(".video-progress").forEach((e=>{e.addEventListener("input",(e=>{(e=>{const t=e.target,n=t.value;t.style.background=`linear-gradient(to right, #710707 0%, #710707 ${n}%, #fff ${n}%, white 100%)`})(e)}))}));const Y=document.querySelector(".burger-menu"),F=document.querySelector(".header-nav"),J=document.querySelector(".burger-close-btn"),j=document.querySelector(".burger-wrapper"),W=document.querySelector(".welcome-wrapper");let z="flex",B=()=>{z="flex",F.classList.remove("hide"),F.classList.remove("block"),F.classList.add(z)};window.matchMedia("(min-width: 1025px)").matches?B():z="block",window.addEventListener("resize",(()=>{window.matchMedia("(max-width: 1024px)").matches&&!F.classList.contains("block")&&(F.classList.remove(z),F.classList.add("hide"),z="block",W.classList.remove("opacity")),window.matchMedia("(min-width: 1025px)").matches&&(B(),J.classList.add("hide"),W.classList.remove("opacity")),window.matchMedia("(min-width: 781px)").matches&&j.classList.add("hide"),window.matchMedia("(max-width: 780px)").matches&&F.classList.contains("block")&&j.classList.remove("hide")})),Y.addEventListener("click",(()=>{F.classList.contains("hide")?(F.style.animation="burger-from 0.5s",F.classList.toggle("hide"),F.classList.toggle(z)):(F.style.animation="burger-back 0.5s",setTimeout((()=>{F.classList.toggle("hide"),F.classList.toggle(z)}),500)),window.matchMedia("(max-width: 780px)").matches&&j.classList.toggle("hide"),J.classList.toggle("hide"),W.classList.toggle("opacity")})),F.addEventListener("click",(e=>{let t=e.target;window.matchMedia("(max-width: 1024px)").matches&&(t.classList.contains("nav-li-link")||t.classList.contains("nav-li-arrow"))&&(J.classList.add("hide"),W.classList.remove("opacity"),j.classList.add("hide"),F.classList.add("hide"),F.classList.remove(z))})),$((function(){$(".welcome-slides").slick({dots:!0})}));const H=document.querySelector(".slide-number");let P=1;document.addEventListener("touchend",(e=>{document.querySelectorAll(".welcome-bg").forEach((e=>{e.classList.contains("slick-active")&&(P=+e.id.slice(-1)+1,H.textContent=`0${P}`)}))})),document.addEventListener("click",(e=>{let t=e.target;"slick-slide-control"===t.id.slice(0,-2)&&(P=+t.id.slice(-1)+1,H.textContent=`0${P}`),(t.classList.contains("slick-next")||t.classList.contains("slick-prev"))&&(P=+t.parentNode.querySelector(".slick-active").id.slice(-1)+1,H.textContent=`0${P}`)})),document.querySelector(".gallery");let K=document.querySelector(".video");window.addEventListener("scroll",(()=>{window.pageYOffset<window.pageYOffset+K.getBoundingClientRect().top&&C.forEach((e=>{e.style.animation="none"})),C.forEach((e=>{Math.round(window.pageYOffset+930)>Math.round(window.pageYOffset+e.getBoundingClientRect().top)&&(e.style.animation="gallery-from 1s")}))}));let V=document.querySelector(".overlay-input"),Z=(document.querySelector(".explore-img-overlay"),document.querySelector(".explore-img")),G=document.querySelector(".explore");V.addEventListener("touchmove",(e=>{e.touches[0].clientX>1700?(V.style.left="701px",Z.style.width="720px"):e.touches[0].clientX<980?(V.style.left="-15px",Z.style.width="0px"):(V.style.left=e.touches[0].clientX-1e3+"px",Z.style.width=e.touches[0].clientX-980+"px")}));let Q=e=>{e.clientX>1670?(V.style.left="700px",Z.style.width="720px"):e.clientX<965?(V.style.left="-15px",Z.style.width="0px"):(V.style.left=e.clientX-980+"px",Z.style.width=e.clientX-960+"px")};V.addEventListener("mousedown",(()=>{G.addEventListener("mousemove",Q)})),G.addEventListener("mouseup",(()=>{G.removeEventListener("mousemove",Q)}));let U=document.querySelector(".tickets-img");const _=["./images/welcome-bg-1.webp","./images/welcome-bg-2.jpg","./images/welcome-bg-3.jpg","./images/welcome-bg-4.jpg","./images/tickets-img.webp"];let ee=0;setInterval((()=>{U.style.backgroundImage=`url(${_[ee]})`,ee++,ee===_.length&&(ee=0)}),5e3),mapboxgl.accessToken="pk.eyJ1IjoiY3JlbXNlYSIsImEiOiJja3VsYW13NHQxZms0MnduNmxhZmo3OGw1In0.Lr5XOXdnNc_zNDwD0hidWA";let te=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/light-v10",center:[2.3363033334041,48.8609865074615],zoom:15.75});const ne=new mapboxgl.NavigationControl;te.addControl(ne,"top-right"),new mapboxgl.Marker({color:"black"}).setLngLat([2.3364,48.86091]).addTo(te),new mapboxgl.Marker({color:"grey"}).setLngLat([2.3333,48.8602]).addTo(te),new mapboxgl.Marker({color:"grey"}).setLngLat([2.3397,48.8607]).addTo(te),new mapboxgl.Marker({color:"grey"}).setLngLat([2.333,48.8619]).addTo(te),new mapboxgl.Marker({color:"grey"}).setLngLat([2.3365,48.8625]).addTo(te);let oe=document.querySelectorAll(".type-input"),ae=document.querySelector(".tickets"),le=document.querySelector(".total-tickets-price"),ce=[20,25,40],re=[10,12.5,20];h[0].textContent=ce[S.indexOf(k)],h[1].textContent=re[S.indexOf(k)],L[0].textContent=ce[S.indexOf(k)],L[1].textContent=re[S.indexOf(k)];let ie=localStorage.getItem("totalSum")||30,se=localStorage.getItem("typeIndex")||1;le.textContent=ie,oe[se].checked=!0,ae.addEventListener("click",(e=>{oe.forEach(((e,t)=>{e.checked&&(ie=ce[t]*b+re[t]*w,localStorage.setItem("typeIndex",t),localStorage.setItem("totalSum",ie),k=S[t]),le.textContent=ie}))}));let de=document.querySelector(".video-media");const ue=document.querySelector(".play-btn"),me=document.querySelector(".video-pause-icon"),ve=document.querySelector(".video-play-icon"),pe=document.querySelector(".play-btn-big"),ye=document.querySelector(".video-volume-icon"),ge=document.querySelector(".video-volume-mute-icon");let xe=document.querySelector(".video-progress");const he=document.querySelector(".volume-progress"),Le=document.querySelector(".screen-btn");let fe=()=>{de.currentTime=0,de.playbackRate=1,de.addEventListener("timeupdate",(e=>{const t=de.currentTime,n=de.duration;xe.value=t/n*100,xe.style.background=`linear-gradient(to right, #710707 0%, #710707 ${xe.value}%, #fff ${xe.value}%, white 100%)`,n===t&&(be(),qe())})),de.addEventListener("click",we),de.addEventListener("volumechange",(()=>{he.value=Math.round(100*de.volume)})),xe.addEventListener("input",(e=>{const t=de.duration,n=xe.value;de.currentTime=n*t/100,xe.style.background=`linear-gradient(to right, #710707 0%, #710707 ${n}%, #fff ${n}%, white 100%)`}))};Le.addEventListener("click",(()=>{de.requestFullscreen()}));let be=()=>{ve.classList.remove("hide"),me.classList.add("hide"),pe.classList.remove("hide")};const we=e=>{e.preventDefault(),de.paused?de.play():de.pause(),de.paused?be():(ve.classList.add("hide"),me.classList.remove("hide"),pe.classList.add("hide"))};let Se=0;const ke=()=>{let e=he.value;0!=he.value?(de.volume=0,he.value=0,Se=e):(he.value=Se,de.volume=Se/100),Ce(),he.style.background=`linear-gradient(to right, #710707 0%, #710707 ${he.value}%, #fff ${he.value}%, white 100%)`},Ce=()=>{0==he.value?(ge.classList.remove("hide"),ye.classList.add("hide")):(ge.classList.add("hide"),ye.classList.remove("hide"))},qe=()=>{de.pause(),de.currentTime=0,de.playbackRate=1},Ee=()=>{const e=he.value;de.volume=e/100};function Te(e,...t){let n=new Set;document.addEventListener("keydown",(function(o){n.add(o.code);for(let e of t)if(!n.has(e))return;n.clear(),e()})),document.addEventListener("keyup",(function(e){n.delete(e.code)}))}ue.addEventListener("click",we),pe.addEventListener("click",we),fe(),ye.addEventListener("click",ke),ge.addEventListener("click",ke),he.addEventListener("input",Ce),he.addEventListener("input",Ee),Ee(),document.addEventListener("keydown",(e=>{switch(e.code){case"Space":we(e);break;case"KeyM":ke();break;case"KeyF":document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():de.requestFullscreen()}})),Te((()=>{de.playbackRate+=2}),"ShiftLeft","Comma"),Te((()=>{de.playbackRate-2>0&&(de.playbackRate-=2),de.playbackRate-.5>0&&(de.playbackRate-=.5)}),"ShiftLeft","Period");let Oe=document.querySelector(".small-videos-container");document.querySelector(".round-btn-slider"),$((function(){$(Oe).slick({slidesToShow:3,slidesToScroll:1,dots:!0,appendDots:$(".round-btn-slider"),arrows:!0,nextArrow:$(".arrow-btn-next"),prevArrow:$(".arrow-btn-prev")})}));let $e=["./video/video0.mp4","./video/video1.mp4","./video/video2.mp4","./video/video3.mp4","./video/video4.mp4"],Ae=document.querySelector(".round-btn-slider"),Me=document.querySelectorAll(".arrow-btn"),Ie=document.querySelector(".video-media-block"),De=document.querySelectorAll("iframe"),Ne=0,Xe=()=>{Array.prototype.forEach.call(De,(e=>{e.contentWindow.postMessage(JSON.stringify({event:"command",func:"stopVideo"}),"*")}))},Re=()=>{let e=document.createElement("video");e.src=`${$e[Ne]}`,e.poster=`./images/poster${Ne}.jpg`,e.classList.add("video-media"),Ie.innerHTML="",Ie.append(e)};Ae.addEventListener("click",(e=>{let t=e.target;Xe(),"BUTTON"===t.tagName&&(Ne=t.id.slice(-1),Re(),de=document.querySelector(".video-media"),fe(),be())})),Me.forEach((e=>{e.addEventListener("click",(e=>{let t=e.target;Xe(),(t.classList.contains("arrow-btn-prev")||t.parentNode.classList.contains("arrow-btn-prev"))&&(Ne--,Re(),Ne<=0&&(Ne=4)),(t.classList.contains("arrow-btn-next")||t.parentNode.classList.contains("arrow-btn-next"))&&(Ne++,Re(),Ne>=4&&(Ne=-1)),de=document.querySelector(".video-media"),fe(),be()}))}));const Ye=document.querySelector(".form-select"),Fe=document.querySelector(".ticket-type-placeholder"),Je=document.querySelector(".info-text-type"),je=Array.from(Ye.options);Fe.textContent=k,Je.textContent=k,Ye.addEventListener("click",(()=>{je.map((e=>{!0===e.selected&&(k=e.textContent)})),Fe.textContent=k,Je.textContent=k,x.textContent=m[0].value*ce[S.indexOf(k)]+m[1].value*re[S.indexOf(k)]+" €",h[0].textContent=ce[S.indexOf(k)],h[1].textContent=re[S.indexOf(k)],L[0].textContent=ce[S.indexOf(k)],L[1].textContent=re[S.indexOf(k)],g[0].textContent=m[0].value*+h[0].textContent+" €",g[1].textContent=m[1].value*+h[1].textContent+" €"})),p.forEach(((e,t)=>{e.addEventListener("click",(()=>{0===t&&m[0].value<20&&(m[0].value++,v[0].textContent=+v[0].textContent+1,g[0].textContent=m[0].value*+h[0].textContent+" €"),1===t&&m[1].value<20&&(m[1].value++,v[1].textContent=+v[1].textContent+1,g[1].textContent=m[1].value*+h[1].textContent+" €"),x.textContent=m[0].value*ce[S.indexOf(k)]+m[1].value*re[S.indexOf(k)]+" €"}))})),y.forEach(((e,t)=>{e.addEventListener("click",(()=>{0===t&&m[0].value>0&&(m[0].value--,v[0].textContent=+v[0].textContent-1,g[0].textContent=20*m[0].value+" €"),1===t&&m[1].value>0&&(m[1].value--,v[1].textContent=+v[1].textContent-1,g[1].textContent=10*m[1].value+" €"),x.textContent=m[0].value*ce[S.indexOf(k)]+m[1].value*re[S.indexOf(k)]+" €"}))}))})();